<?php

    if(php_sapi_name() !== 'cli') {
        echo 'Error: This CLI must be run with the PHP CLI';
        exit();
    }

    use classes\Application;

    require __DIR__ . DIRECTORY_SEPARATOR . '..' . DIRECTORY_SEPARATOR . 'autoloader.php';

    $app = new Application();

    $app->register(new \commands\Help());
    $app->register(new \commands\Listing());
    $app->register(new \commands\Upgrade());

    $app->register(new \commands\install\Module());

    $app->register(new \commands\run\Migrations());

    $app->process($argv);
